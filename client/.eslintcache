[{"/Users/user/Documents/programing/projects/restaurant/client/src/index.js":"1","/Users/user/Documents/programing/projects/restaurant/client/src/reportWebVitals.js":"2","/Users/user/Documents/programing/projects/restaurant/client/src/App.js":"3","/Users/user/Documents/programing/projects/restaurant/client/src/restaurantsList/restaurantsListItem/RestaurantsListItem.js":"4","/Users/user/Documents/programing/projects/restaurant/client/src/restaurantPage/RestaurantPage.js":"5","/Users/user/Documents/programing/projects/restaurant/client/src/restaurantsList/RestaurantsList.js":"6","/Users/user/Documents/programing/projects/restaurant/client/src/restaurantPage/menuItem/MenuItem.js":"7","/Users/user/Documents/programing/projects/restaurant/client/src/AppContext.js":"8","/Users/user/Documents/programing/projects/restaurant/client/src/restaurantEditPage/restaurantEditPage.js":"9","/Users/user/Documents/programing/projects/restaurant/client/src/restaurantEditPage/RestaurantEditPage.js":"10","/Users/user/Documents/programing/projects/restaurant/client/src/restaurantEditPage/menuEditItem/MenuEditItem.js":"11"},{"size":500,"mtime":1611258994915,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":1611258994916,"results":"14","hashOfConfig":"13"},{"size":1710,"mtime":1611438808990,"results":"15","hashOfConfig":"13"},{"size":888,"mtime":1611410198142,"results":"16","hashOfConfig":"13"},{"size":2576,"mtime":1611438455734,"results":"17","hashOfConfig":"13"},{"size":1178,"mtime":1611438400481,"results":"18","hashOfConfig":"13"},{"size":315,"mtime":1611423563166,"results":"19","hashOfConfig":"13"},{"size":76,"mtime":1611320127686,"results":"20","hashOfConfig":"13"},{"size":318,"mtime":1611321226283,"results":"21","hashOfConfig":"13"},{"size":4214,"mtime":1611438491999,"results":"22","hashOfConfig":"13"},{"size":1332,"mtime":1611435924039,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"l4hybn",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"26"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},"/Users/user/Documents/programing/projects/restaurant/client/src/index.js",[],["50","51"],"/Users/user/Documents/programing/projects/restaurant/client/src/reportWebVitals.js",[],"/Users/user/Documents/programing/projects/restaurant/client/src/App.js",[],"/Users/user/Documents/programing/projects/restaurant/client/src/restaurantsList/restaurantsListItem/RestaurantsListItem.js",[],"/Users/user/Documents/programing/projects/restaurant/client/src/restaurantPage/RestaurantPage.js",["52"],"import React, { useState, useEffect, useContext} from 'react';\nimport { trackPromise } from 'react-promise-tracker';\nimport { useParams } from 'react-router-dom';\nimport { MenuItem } from './menuItem/MenuItem';\nimport queryString from 'query-string';\nimport { AppContext } from '../AppContext';\nimport { NavLink } from 'react-router-dom';\nimport './restaurantPage.scss';\n\nasync function getRestMenu(restName) {\n    const result = await fetch(`/api/rests/${restName}`);\n    return result.json();\n}\n\nexport function RestaurantPage () {\n\n    const paramsURL = useParams();\n    const context = useContext(AppContext);\n\n    const [ restName, setRestName ] = useState(paramsURL.rest);\n\n    useEffect(() => {\n        if (paramsURL && paramsURL.rest) {\n            setRestName(paramsURL.rest);\n        }\n    } , [paramsURL])\n\n    useEffect(() => {\n        const get = async () => {\n            const results = await trackPromise(getRestMenu(restName));\n            if (results) {\n                context.setRestaurant(results[0]);\n            }\n        }\n        get();\n    },[restName]);\n\n    useEffect(() => {\n        const values = queryString.parse(window.location.search);\n        if (values.isAdmin) {\n            context.setAdmin(values.isAdmin);\n        }\n    } , [context])\n\n    function editBtn() {\n        if (context.admin === 'true') {\n            return <NavLink to={`/edit/${paramsURL.rest}`} className=\"editBtn\"><span>Edit</span></NavLink>\n        }\n    }\n\n    if (context.restaurant.menu && context.restaurant.menu.items.length > 0) {\n        return (\n            <div className=\"restaurant-page-container\">\n                <div className=\"image-container\" style={{\n                    backgroundImage: `url(${context.restaurant.image})`\n                    }}>\n                </div>\n                <div className=\"restaurant-page-details-container\">\n                    <div className=\"restaurant-page-details\">\n                        <h1>{context.restaurant.name}</h1>\n                        <h3>{context.restaurant.menu.name}</h3>\n                        <div className=\"menu\">\n                            { context.restaurant.menu.items.map( (item, index) => <MenuItem\n                                    key = { index }\n                                    name = { item.name }\n                                    price = { item.price } \n                            /> )}\n                        </div>\n                        {editBtn()}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n    else return <p>Loading...</p>\n}","/Users/user/Documents/programing/projects/restaurant/client/src/restaurantsList/RestaurantsList.js",[],"/Users/user/Documents/programing/projects/restaurant/client/src/restaurantPage/menuItem/MenuItem.js",[],"/Users/user/Documents/programing/projects/restaurant/client/src/AppContext.js",[],"/Users/user/Documents/programing/projects/restaurant/client/src/restaurantEditPage/restaurantEditPage.js",["53"],"/Users/user/Documents/programing/projects/restaurant/client/src/restaurantEditPage/RestaurantEditPage.js",["54"],"import React, { useState, useEffect, useContext } from 'react';\nimport { trackPromise } from 'react-promise-tracker';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { useParams } from 'react-router-dom';\nimport { AppContext } from '../AppContext';\nimport { MenuEditItem } from './menuEditItem/MenuEditItem';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './restaurantEditPage.scss';\n\nasync function getRestMenu(restName) {\n    const result = await fetch(`/api/rests/${restName}`);\n    return result.json();\n}\n\nasync function updateRestMenu(restDetail, id) {\n    const requestOptions = {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(restDetail)\n    };\n    const result = await fetch(`/api/rests/${id}`, requestOptions);\n    return result.json();    \n}\n\nexport function RestaurantEditPage () {\n\n    const context = useContext(AppContext);\n    const paramsURL = useParams();\n\n    const [ restName, setRestName ] = useState(paramsURL.rest);\n    let menuName = \"\";\n        \n    useEffect(() => {\n        if (paramsURL && paramsURL.rest) {\n            setRestName(paramsURL.rest);\n        }\n    } , [paramsURL])\n    \n    useEffect(() => {\n        const get = async () => {\n            const results = await trackPromise(getRestMenu(restName));\n            if (results) {\n                context.setRestaurant(results[0]);\n            }\n        }\n        get();\n    },[restName]);\n\n    const handleChange = (e) => {        \n        menuName = e.target.value;\n    };\n\n    const capture = (e) => {\n        let tempRestaurant = context.restaurant;\n        if (menuName.length > 0) {\n            tempRestaurant.menu.name = menuName;\n            context.setRestaurant(tempRestaurant);\n        }\n    }\n\n    async function upadteMenu () {\n        await trackPromise(updateRestMenu(context.restaurant, context.restaurant._id));\n        toast.error(\"ðŸŽ‰ menu's been updated\", {\n            position: \"top-right\",\n            autoClose: 3000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            });\n    }\n\n    if (context.admin === 'true') {\n        if (context.restaurant.menu && context.restaurant.menu.items.length > 0) {\n            return (\n                <div className=\"restaurant-page-container\">\n                    <div className=\"image-container\" style={{\n                        backgroundImage: `url(${context.restaurant.image})`\n                    }} />\n                    <div className=\"restaurant-page-details-container\">\n                        <div className=\"restaurant-page-details\">\n                            <h1>Edit {context.restaurant.name}</h1>\n                            <h3><input type=\"text\" onChange={handleChange} onBlur={capture} defaultValue={context.restaurant.menu.name} /></h3>\n                            <div className=\"menu\">\n                                <div>\n                                    { context.restaurant.menu.items.map( (item, index) => <MenuEditItem\n                                        key = {index}\n                                        name = { item.name }\n                                        price = { item.price } \n                                    /> )}\n                                </div>\n                            </div>\n                            <button className=\"submitBtn\" onClick={upadteMenu}>Submit</button>\n                            <ToastContainer\n                                position=\"top-right\"\n                                autoClose={3000}\n                                hideProgressBar={false}\n                                newestOnTop={false}\n                                closeOnClick\n                                rtl={false}\n                                pauseOnFocusLoss\n                                draggable\n                                pauseOnHover\n                                />\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n        else return <p>Loading...</p>\n    }\n    else return <h3>Only admins can edit menus</h3>\n}","/Users/user/Documents/programing/projects/restaurant/client/src/restaurantEditPage/menuEditItem/MenuEditItem.js",[],["55","56"],{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":36,"column":7,"nodeType":"63","endLine":36,"endColumn":17,"suggestions":"64"},{"ruleId":"65","severity":2,"message":"66","line":5,"column":21,"nodeType":"67","messageId":"68","endLine":5,"endColumn":31},{"ruleId":"61","severity":1,"message":"62","line":47,"column":7,"nodeType":"63","endLine":47,"endColumn":17,"suggestions":"69"},{"ruleId":"57","replacedBy":"70"},{"ruleId":"59","replacedBy":"71"},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'context'. Either include it or remove the dependency array.","ArrayExpression",["74"],"no-undef","'useContext' is not defined.","Identifier","undef",["75"],["72"],["73"],"no-global-assign","no-unsafe-negation",{"desc":"76","fix":"77"},{"desc":"76","fix":"78"},"Update the dependencies array to be: [context, restName]",{"range":"79","text":"80"},{"range":"81","text":"80"},[1068,1078],"[context, restName]",[1450,1460]]